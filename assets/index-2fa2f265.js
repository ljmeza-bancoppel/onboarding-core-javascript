(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const u="https://demo-api.incodesmile.com",h="67b60c0e7af70586d6f7f998",m=atob("NTJiMTQwYWQ0NjllODlhODg5NWQyNzg3OTYzMWU1MzcwOGQ2Y2Y3Zg=="),f={"Content-Type":"application/json","x-api-key":m,"api-version":"1.0"},g=async function(){const t=`${u}/omni/start`,n={configurationId:h,language:"es-ES"};let r;try{if(r=await fetch(t,{method:"POST",body:JSON.stringify(n),headers:f}),!r.ok)throw new Error("Request failed with code "+r.status)}catch(e){throw new Error("HTTP Post Error: "+e.message)}const{token:i}=await r.json();return{token:i}},p=async function(t){const n=`${u}/omni/finish-status`;let r={...f};r["X-Incode-Hardware-Id"]=t;let i;try{if(i=await fetch(n,{method:"GET",headers:r}),!i.ok)throw new Error("Request failed with code "+i.status)}catch(s){throw new Error("HTTP Post Error: "+s.message)}const{redirectionUrl:e,action:o}=await i.json();return{redirectionUrl:e,action:o}};let l,a,w=!0;const c=document.getElementById("camera-container");function d(t=null){const n=document.getElementById("finish-container");t!=null&&t.message?n.innerHTML=`<h1>Error: ${t.message}</h1>`:(n.innerHTML="<h1>There was an error</h1>",console.log(t))}function y(){l.sendFingerprint({token:a.token}),T()}function T(){l.renderCamera("document",c,{onSuccess:O,onError:d,token:a,nativeCamera:!1,disableFullScreen:!1,fullScreen:!0,showPreview:!1,numberOfTries:3,showTutorial:w})}function O(){p(a.token).then(t=>{console.log(t);const n=document.getElementById("finish-container");n.innerHTML="<h1>Onboarding Finished.</h1>"}).catch(t=>{d(t)})}async function E(){console.log("VITE_API_URL","https://demo-api.incodesmile.com"),console.log("VITE_API_KEY","NTJiMTQwYWQ0NjllODlhODg5NWQyNzg3OTYzMWU1MzcwOGQ2Y2Y3Zg==");try{const t="https://demo-api.incodesmile.com",n=atob("NTJiMTQwYWQ0NjllODlhODg5NWQyNzg3OTYzMWU1MzcwOGQ2Y2Y3Zg==");l=window.OnBoarding.create({apiURL:t,apiKey:n}),c.innerHTML="<h1>Creating session...</h1>",a=await g(),c.innerHTML="",console.log("incodeSession:",a),y()}catch(t){d(t)}}document.addEventListener("DOMContentLoaded",E);
